use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.22
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1187634297',
        'name' => 'attachment/diff-file.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n\n";
    $output .=  "\n<table class=\"file_table\"><thead><tr><td class=\"num\"></td><td></td><td class=\"num\"></td><td></td></tr><tr><td class=\"file_head\" colspan=\"4\"><a href=\"#\" onclick=\"return twisty_click(this)\">";
#line 29 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('collapsed') ? '(+)' : '(-)';
    $output .=  "</a><input type=\"checkbox\" name=\"";
#line 29 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 29 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('collapsed') ? '' : ' checked';
    $output .=  " style=\"display: none\">";
#line 34 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get('lxr_prefix') && ! $stash->get(['file', 0, 'is_add', 0])) {
    $output .=  "\n    <a href=\"";
#line 31 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('lxr_prefix');
    $output .=  "\">";
#line 31 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</a>";
    }
    else {
#line 33 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
#line 45 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'plus_lines', 0])) {
#line 40 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'minus_lines', 0])) {
    $output .=  "\n      (-";
#line 37 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'minus_lines', 0]);
    $output .=  "&nbsp;/&nbsp;+";
#line 37 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'plus_lines', 0]);
    $output .=  "&nbsp;lines)";
    }
    else {
    $output .=  "\n      (+";
#line 39 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'plus_lines', 0]);
    $output .=  "&nbsp;lines)";
    }
    
    }
    else {
#line 44 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'minus_lines', 0])) {
    $output .=  "\n      (-";
#line 43 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'minus_lines', 0]);
    $output .=  "&nbsp;lines)";
    }
    
    }
    
    $output .=  "\n</td></tr></thead><tbody class=\"";
#line 46 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('collapsed') ? 'file_collapse' : 'file';
    $output .=  "\">\n<script type=\"text/javascript\">\nincremental_restore()\n</script>\n";
#line 51 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('section_num', 0);
#line 167 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('sections');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'section'} = $_tt_value;
#line 53 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('section_num', $stash->get('section_num') + 1);
    $output .=  "\n  <tr><th colspan=\"4\" class=\"section_head\">\n    <table cellpadding=\"0\" cellspacing=\"0\">\n    <tr><th width=\"95%\" align=\"left\">";
#line 79 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'is_add', 0])) {
    $output .=  "\n    Added";
    }
    elsif ($stash->get(['file', 0, 'is_remove', 0])) {
#line 64 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get('bonsai_prefix')) {
    $output .=  "\n      <a href=\"";
#line 61 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('bonsai_prefix');
    $output .=  "\">Removed</a>";
    }
    else {
    $output .=  "\n      Removed";
    }
    
    }
    else {
#line 68 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get('bonsai_prefix')) {
    $output .=  "\n      <a href=\"";
#line 67 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('bonsai_prefix');
    $output .=  "#";
#line 67 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]);
    $output .=  "\">";
    }
    
#line 74 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['section', 0, 'old_lines', 0]) > 1) {
    $output .=  "\n      &nbsp;Lines&nbsp;";
#line 70 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]);
    $output .=  "-";
#line 70 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]) + $stash->get(['section', 0, 'old_lines', 0]) - 1;
    }
    else {
    $output .=  "\n      Line&nbsp;";
#line 73 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]);
    }
    
#line 77 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get('bonsai_prefix')) {
    $output .=  "\n      </a>";
    }
    
    $output .=  "\n    &nbsp;&nbsp;";
#line 78 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['section', 0, 'func_info', 0])) {
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['section', 0, 'func_info', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
    }
    
    $output .=  " \n    </th><th>\n  <a name=\"";
#line 81 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "_sec";
#line 81 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('section_num');
    $output .=  "\" href=\"#";
#line 81 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "_sec";
#line 81 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('section_num');
    $output .=  "\">Link&nbsp;Here</a>&nbsp;\n    </th></tr></table>\n  </th></tr>";
#line 84 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_old', $stash->get(['section', 0, 'old_start', 0]));
#line 85 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_new', $stash->get(['section', 0, 'new_start', 0]));
#line 166 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['section', 0, 'groups', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'group'} = $_tt_value;
#line 98 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'context', 0])) {
#line 97 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['group', 0, 'context', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR3:   while (! $_tt_error) {
                $stash->{'line'} = $_tt_value;
    $output .=  "\n        <tr>\n          <td class=\"num\">";
#line 90 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('current_line_old');
    $output .=  "</td>\n          <td><pre>";
#line 91 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n          <td class=\"num\">";
#line 92 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('current_line_new');
    $output .=  "</td>\n          <td><pre>";
#line 93 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n        </tr>";
#line 95 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_old', $stash->get('current_line_old') + 1);
#line 96 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_new', $stash->get('current_line_new') + 1);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    }
    
#line 165 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'plus', 0, 'size', 0])) {
#line 146 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'minus', 0, 'size', 0])) {
#line 101 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('i', 0);
    $output .=  "\n        ";
#line 103 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('curr_new', $stash->get('current_line_new'));
#line 104 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('curr_old', $stash->get('current_line_old'));
#line 127 "template/en/default/attachment/diff-file.html.tmpl"
    
    # WHILE
    do {
        my $_tt_failsafe = 1000000;
    WHILE3:
        while (--$_tt_failsafe && (($stash->get('i') < $stash->get(['group', 0, 'plus', 0, 'size', 0]) || $stash->get('i') < $stash->get(['group', 0, 'minus', 0, 'size', 0])))) {
#line 106 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('currentloop', 0);
#line 126 "template/en/default/attachment/diff-file.html.tmpl"
    
    # WHILE
    do {
        my $_tt_failsafe = 1000000;
    WHILE4:
        while (--$_tt_failsafe && ($stash->get('currentloop') < 500 && ($stash->get('i') < $stash->get(['group', 0, 'plus', 0, 'size', 0]) || $stash->get('i') < $stash->get(['group', 0, 'minus', 0, 'size', 0])))) {
    $output .=  "\n            <tr>\n              <td class=\"num\">";
#line 109 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('curr_old');
    $output .=  "</td>\n              <td class=\"changed\"><pre>";
#line 110 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['group', 0, 'minus', 0, $stash->get('i'), 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n              <td class=\"num\">";
#line 111 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('curr_new');
    $output .=  "</td>\n              <td class=\"changed\"><pre>";
#line 112 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['group', 0, 'plus', 0, $stash->get('i'), 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
#line 114 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('currentloop', $stash->get('currentloop') + 1);
#line 115 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('i', $stash->get('i') + 1);
#line 120 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get('i') < $stash->get(['group', 0, 'minus', 0, 'size', 0])) {
#line 117 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('curr_old', $stash->get('curr_old') + 1);
    }
    else {
#line 119 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('curr_old', '');
    }
    
#line 125 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get('i') < $stash->get(['group', 0, 'plus', 0, 'size', 0])) {
#line 122 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('curr_new', $stash->get('curr_new') + 1);
    }
    else {
#line 124 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('curr_new', '');
    }
    
        }
        die "WHILE loop terminated (> 1000000 iterations)\n"
            unless $_tt_failsafe;
    };
    
        }
        die "WHILE loop terminated (> 1000000 iterations)\n"
            unless $_tt_failsafe;
    };
    
#line 128 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_old', $stash->get('current_line_old') + $stash->get(['group', 0, 'minus', 0, 'size', 0]));
#line 129 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_new', $stash->get('current_line_new') + $stash->get(['group', 0, 'plus', 0, 'size', 0]));
    }
    else {
#line 145 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['group', 0, 'plus', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR3:   while (! $_tt_error) {
                $stash->{'line'} = $_tt_value;
#line 143 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'is_add', 0])) {
    $output .=  "\n            <tr>\n              <td class=\"num\">";
#line 134 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('current_line_new');
    $output .=  "</td>\n              <td class=\"added\" colspan=\"3\"><pre>";
#line 135 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    }
    else {
    $output .=  "\n            <tr>\n              <td class=\"num\"></td><td></td>\n              <td class=\"num\">";
#line 140 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('current_line_new');
    $output .=  "</td>\n              <td class=\"added\"><pre>";
#line 141 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    }
    
#line 144 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_new', $stash->get('current_line_new') + 1);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    }
    
    }
    else {
#line 164 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'minus', 0, 'size', 0])) {
#line 163 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['group', 0, 'minus', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR3:   while (! $_tt_error) {
                $stash->{'line'} = $_tt_value;
#line 161 "template/en/default/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'is_remove', 0])) {
    $output .=  "\n            <tr>\n              <td class=\"num\">";
#line 152 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('current_line_old');
    $output .=  "</td>\n              <td class=\"removed\" colspan=\"3\"><pre>";
#line 153 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    }
    else {
    $output .=  "\n            <tr>\n              <td class=\"num\">";
#line 157 "template/en/default/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('current_line_old');
    $output .=  "</td>\n              <td class=\"removed\"><pre>";
#line 158 "template/en/default/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</pre></td>\n              <td class=\"num\"></td><td></td>\n            </tr>";
    }
    
#line 162 "template/en/default/attachment/diff-file.html.tmpl"
    $stash->set('current_line_old', $stash->get('current_line_old') + 1);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    }
    
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n\n</table>\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
